name: QA self-test
on:
  pull_request:

jobs:
  lint-python:
    uses: ./.github/workflows/lint-python.yaml
  test-python:
    uses: ./.github/workflows/test-python.yaml
  test-python-custom:
    uses: ./.github/workflows/test-python.yaml
    with:
      # Test on many OS's to ensure that these workflows work everywhere.
      # Also ensure we can add a list of tags for self-hosted runners.
      fast-platforms: '[["jammy", "amd64"], ["noble", "arm64"], "ubuntu-22.04", "windows-latest", "macos-latest"]'
      fast-python-versions: '["3.14"]'
      slow-platforms: '["ubuntu-latest"]'
      slow-python-versions: '["3.14"]'
      lowest-python-version: '["3.0"]'
